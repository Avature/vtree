<!doctype html>
<html>
<head>
<meta charset="utf-8">

<title>JSON Tree Visualizer</title>

<!-- stylesheets -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="css/vtree.css" type="text/css"/>

<!-- third-party javascript -->
<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>

<!-- our javascript -->
<script src="js/layout.vtree.js"></script>
<script src="js/vtree.js"></script>
<!-- <script src="js/vtree.min.js"></script> -->

<script type="text/javascript">
window.onload = function () {
    var container = document.getElementById("container");
    var data = document.getElementById("from-text").value;

    var vt = vtree(container)
        .data(data)
        .update();

    function showHandler () {
        vt.conf(this.value, this.checked)
            .update();

        if (this.value === "showColumn0" && this.checked === false) {
            document.getElementById("showColumn1").checked = true;
        } else if (this.value === "showColumn1" && this.checked === false) {
            document.getElementById("showColumn0").checked = true;
        }
    };

    document.getElementById("showLinkName").onclick = showHandler;
    document.getElementById("showColumn0").onclick = showHandler;
    document.getElementById("showColumn1").onclick = showHandler;


    document.getElementById("go-button").onclick = function () {
        try {
            var v = parseInt(document.getElementById("maxNameLen").value);
            vt.conf("maxNameLen", v);
        } catch (err) {
        }

        try {
            v = parseInt(document.getElementById("maxValueLen").value);
            vt.conf("maxValueLen", v);
        } catch (err) {
        }

        vt.data(document.getElementById("from-text").value);
        vt.update();
    };
};

</script>

</head>

<body>
  <div class="container">

    <h1>JSON Tree Visualizer</h1>

    <p style="text-align: right;">Ver 0.1.9.1.9.55 <a href="https://github.com/ivan111/vtree">github</a></p>

    <p>You can convert JSON strings into tree diagrams. For example, it is used to show AST(Abstract Syntax Tree) as tree diagrams for debugging. In that case, offcourse, you need to translate AST into JSON.</p>

    <div class="row">
      <textarea id="from-text" rows="8" cols="80">
        ["FunctionLiteral", {"name":""}, ["ExpressionStatement", ["Assignment", {"op":"ASSIGN"}, ["VariableProxy", {"name":"x"} ], ["Literal", {"handle":1} ] ] ], ["IfStatement", ["CompareOperation", {"op":"GT"}, ["VariableProxy", {"name":"x"} ], ["Literal", {"handle":0} ] ], ["Block", ["ExpressionStatement", ["Assignment", {"op":"ASSIGN"}, ["VariableProxy", {"name":"y"} ], ["BinaryOperation", {"op":"ADD"}, ["VariableProxy", {"name":"x"} ], ["Literal", {"handle":2} ] ] ] ], ["ExpressionStatement", ["Call", ["VariableProxy", {"name":"print"} ], ["VariableProxy", {"name":"y"} ] ] ] ], ["EmptyStatement"] ] ]
      </textarea>
    </div>

    <div class="row">

      <div class="col-xs-2">
        <input id="go-button" class="btn btn-primary" type="button" value="Visualize">
      </div>

      <div class="col-xs-5">
        <label>Show</label>
        <input id="showLinkName" type="checkbox" value="showLinkName" checked>Link Name&nbsp;&nbsp;
        <input id="showColumn0" type="checkbox" value="showColumn0" checked>Column 1&nbsp;&nbsp;
        <input id="showColumn1" type="checkbox" value="showColumn1" checked>Column 2&nbsp;&nbsp;
      </div>

      <div class="col-xs-5">
        <label>Max Column 1 Len: 
          <input id="maxNameLen" type="number" min="1" max="256" step="10" size="3" value="32">
        </label>
        <label>Max Column 2 Len: 
          <input id="maxValueLen" type="number" min="1" max="256" step="10" size="3" value="32">
        </label>
      </div>

    </div>

    <div class="row" style="clear: both;">
    </div>

    <div id="container"></div>


    <p style="text-align: right;">Created Date: 2014-07-27, Modified Date: 2017-02-28</p>

  </div>
</body>

</html>
